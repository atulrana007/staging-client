{"ast":null,"code":"var _jsxFileName = \"/Users/arana1/Documents/Work/QA-ClientApp/src/components/OTPFill.js\";\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\n\nconst Tokens = props => {\n  const history = useHistory();\n  const {\n    detailsState,\n    setDetailsState\n  } = props;\n\n  const getOTP = async e => {\n    e.preventDefault();\n    const optionsLogin = {\n      \"content-type\": \"application/x-www-form-urlencoded\"\n    };\n    const jsonBody = {\n      client_id: \"eK0mkkqu8Q03e6uTbP1uuPM8eszgrqf2\",\n      client_secret: \"niZTToFk42DoIOUvShCWYH4S-gb2nND0JG9oHxAZj-en2b3hqCzIZgmvYKRYXoji\",\n      grant_type: \"http://auth0.com/oauth/grant-type/passwordless/otp\",\n      otp: detailsState.otp,\n      realm: \"email\",\n      username: detailsState.email,\n      hashedEmail: 'hash of the email',\n      audience: \"https://api.mcafee.com\",\n      scope: \"openid profile email offline_access\"\n    };\n    const data = new URLSearchParams(jsonBody).toString();\n\n    try {\n      const token = await axios.post(\"oauth/token\", data, {\n        headers: optionsLogin\n      });\n      setDetailsState({ ...detailsState,\n        accessToken: token.data.access_token,\n        idToken: token.data.id_token,\n        refreshToken: token.data.refresh_token\n      });\n      console.log(token.data.refresh_token);\n    } catch (err) {\n      console.log(err);\n    }\n\n    history.push(\"/token\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, \"EMAIL:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: detailsState.email,\n    onChange: e => {\n      setDetailsState({ ...detailsState,\n        email: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), \"Enter OTP:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: detailsState.otp,\n    onChange: e => {\n      setDetailsState({ ...detailsState,\n        otp: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      with: \"50%\"\n    },\n    type: \"button\",\n    onClick: e => getOTP(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Verify OTP\")));\n};\n\nexport default Tokens;","map":{"version":3,"sources":["/Users/arana1/Documents/Work/QA-ClientApp/src/components/OTPFill.js"],"names":["React","useHistory","axios","Tokens","props","history","detailsState","setDetailsState","getOTP","e","preventDefault","optionsLogin","jsonBody","client_id","client_secret","grant_type","otp","realm","username","email","hashedEmail","audience","scope","data","URLSearchParams","toString","token","post","headers","accessToken","access_token","idToken","id_token","refreshToken","refresh_token","console","log","err","push","display","flexDirection","target","value","with"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\nconst Tokens = (props) => {\n  const history = useHistory();\n  const { detailsState, setDetailsState } = props;\n\n  const getOTP = async (e) => {\n    e.preventDefault();\n    const optionsLogin = {\n      \"content-type\": \"application/x-www-form-urlencoded\",\n    };\n    const jsonBody = {\n      client_id: \"eK0mkkqu8Q03e6uTbP1uuPM8eszgrqf2\",\n      client_secret: \"niZTToFk42DoIOUvShCWYH4S-gb2nND0JG9oHxAZj-en2b3hqCzIZgmvYKRYXoji\",\n      grant_type: \"http://auth0.com/oauth/grant-type/passwordless/otp\",\n      otp: detailsState.otp,\n      realm: \"email\",\n      username: detailsState.email,\n      hashedEmail: 'hash of the email',\n      audience: \"https://api.mcafee.com\",\n      scope: \"openid profile email offline_access\"\n    };\n    const data = new URLSearchParams(jsonBody).toString();\n    try {\n      const token = await axios.post(\"oauth/token\", data,\n        {\n          headers: optionsLogin,\n        }\n      );\n      setDetailsState({...detailsState, accessToken:token.data.access_token,idToken:token.data.id_token,refreshToken:token.data.refresh_token})\n      console.log(token.data.refresh_token);\n    } catch (err) {\n      console.log(err)\n    }\n    history.push(\"/token\");\n  };\n  return (\n    <div>\n      <form style={{ display: \"flex\", flexDirection: \"column\" }}>\n        EMAIL:\n        <input\n          type=\"text\"\n          value={detailsState.email}\n          onChange={(e) => {\n            setDetailsState({ ...detailsState, email: e.target.value });\n          }}\n        ></input>\n        Enter OTP:\n        <input\n          type=\"text\"\n          value={detailsState.otp}\n          onChange={(e) => {\n            setDetailsState({ ...detailsState, otp: e.target.value });\n          }}\n        ></input>\n        <hr/>\n        <button\n          style={{ with: \"50%\" }}\n          type=\"button\"\n          onClick={(e) => getOTP(e)}\n        >Verify OTP\n        </button>\n      </form>\n    </div>\n  );\n};\nexport default Tokens;\n"]},"metadata":{},"sourceType":"module"}