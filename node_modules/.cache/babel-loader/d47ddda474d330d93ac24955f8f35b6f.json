{"ast":null,"code":"var _jsxFileName = \"/Users/arana1/Documents/Work/QA-ClientApp/src/components/Refresh.js\";\n// eslint-disable-next-line react-hooks/exhaustive-deps\nimport React, { useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst OTP = props => {\n  const {\n    detailsState,\n    setDetailsState\n  } = props;\n\n  const getOTP = async e => {\n    const optionsLogin = {\n      \"content-type\": \"application/x-www-form-urlencoded\"\n    };\n    console.log(detailsState);\n    const jsonBody = {\n      client_id: \"eK0mkkqu8Q03e6uTbP1uuPM8eszgrqf2\",\n      client_secret: \"niZTToFk42DoIOUvShCWYH4S-gb2nND0JG9oHxAZj-en2b3hqCzIZgmvYKRYXoji\",\n      grant_type: \"refresh_token\",\n      refresh_token: detailsState.refreshToken,\n      subrefid: detailsState.param1\n    };\n    const data = new URLSearchParams(jsonBody).toString();\n\n    try {\n      const token = await axios.post(\"oauth/token\", data, {\n        headers: optionsLogin\n      });\n      console.log(detailsState);\n      setDetailsState({ ...detailsState,\n        accessToken: token.data.access_token,\n        idToken: token.data.id_token,\n        refreshToken: token.data.refresh_token\n      });\n      console.log(token);\n    } catch (err) {\n      console.log(err);\n    }\n\n    return;\n  };\n\n  useEffect(() => {\n    getOTP();\n  }, [getOTP]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, \"New tokens \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"Access token : \"), \" \", detailsState.accessToken, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"ID token : \"), \" \", detailsState.idToken);\n};\n\nexport default OTP;","map":{"version":3,"sources":["/Users/arana1/Documents/Work/QA-ClientApp/src/components/Refresh.js"],"names":["React","useEffect","axios","OTP","props","detailsState","setDetailsState","getOTP","e","optionsLogin","console","log","jsonBody","client_id","client_secret","grant_type","refresh_token","refreshToken","subrefid","param1","data","URLSearchParams","toString","token","post","headers","accessToken","access_token","idToken","id_token","err"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,GAAG,GAAIC,KAAD,IAAW;AACrB,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAoCF,KAA1C;;AACA,QAAMG,MAAM,GAAG,MAAOC,CAAP,IAAa;AAC1B,UAAMC,YAAY,GAAG;AACnB,sBAAgB;AADG,KAArB;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,YAAZ;AACA,UAAMO,QAAQ,GAAG;AACfC,MAAAA,SAAS,EAAE,kCADI;AAEfC,MAAAA,aAAa,EACX,kEAHa;AAIfC,MAAAA,UAAU,EAAE,eAJG;AAKfC,MAAAA,aAAa,EAAEX,YAAY,CAACY,YALb;AAMfC,MAAAA,QAAQ,EAAEb,YAAY,CAACc;AANR,KAAjB;AAQA,UAAMC,IAAI,GAAG,IAAIC,eAAJ,CAAoBT,QAApB,EAA8BU,QAA9B,EAAb;;AACA,QAAI;AACF,YAAMC,KAAK,GAAG,MAAMrB,KAAK,CAACsB,IAAN,CAAW,aAAX,EAA0BJ,IAA1B,EAAgC;AAClDK,QAAAA,OAAO,EAAEhB;AADyC,OAAhC,CAApB;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAYN,YAAZ;AACAC,MAAAA,eAAe,CAAC,EACd,GAAGD,YADW;AAEdqB,QAAAA,WAAW,EAAEH,KAAK,CAACH,IAAN,CAAWO,YAFV;AAGdC,QAAAA,OAAO,EAAEL,KAAK,CAACH,IAAN,CAAWS,QAHN;AAIdZ,QAAAA,YAAY,EAAEM,KAAK,CAACH,IAAN,CAAWJ;AAJX,OAAD,CAAf;AAMAN,MAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ;AACD,KAZD,CAYE,OAAOO,GAAP,EAAY;AACZpB,MAAAA,OAAO,CAACC,GAAR,CAAYmB,GAAZ;AACD;;AACD;AACD,GA9BD;;AA+BA7B,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,MAAM;AACP,GAFQ,EAEN,CAACA,MAAD,CAFM,CAAT;AAIA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADb,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,OAE0BF,YAAY,CAACqB,WAFvC,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJF,OAIsBrB,YAAY,CAACuB,OAJnC,CADF;AAQD,CA7CD;;AA8CA,eAAezB,GAAf","sourcesContent":["// eslint-disable-next-line react-hooks/exhaustive-deps\nimport React, { useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst OTP = (props) => {\n  const { detailsState, setDetailsState } = props;\n  const getOTP = async (e) => {\n    const optionsLogin = {\n      \"content-type\": \"application/x-www-form-urlencoded\",\n    };\n    console.log(detailsState);\n    const jsonBody = {\n      client_id: \"eK0mkkqu8Q03e6uTbP1uuPM8eszgrqf2\",\n      client_secret:\n        \"niZTToFk42DoIOUvShCWYH4S-gb2nND0JG9oHxAZj-en2b3hqCzIZgmvYKRYXoji\",\n      grant_type: \"refresh_token\",\n      refresh_token: detailsState.refreshToken,\n      subrefid: detailsState.param1,\n    };\n    const data = new URLSearchParams(jsonBody).toString();\n    try {\n      const token = await axios.post(\"oauth/token\", data, {\n        headers: optionsLogin,\n      });\n      console.log(detailsState);\n      setDetailsState({\n        ...detailsState,\n        accessToken: token.data.access_token,\n        idToken: token.data.id_token,\n        refreshToken: token.data.refresh_token,\n      });\n      console.log(token);\n    } catch (err) {\n      console.log(err);\n    }\n    return;\n  };\n  useEffect(() => {\n    getOTP();\n  }, [getOTP]);\n\n  return (\n    <div>\n      New tokens <br />\n      <b>Access token : </b> {detailsState.accessToken}\n      <br />\n      <b>ID token : </b> {detailsState.idToken}\n    </div>\n  );\n};\nexport default OTP;\n"]},"metadata":{},"sourceType":"module"}