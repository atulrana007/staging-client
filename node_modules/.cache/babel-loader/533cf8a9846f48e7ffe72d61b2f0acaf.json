{"ast":null,"code":"var _jsxFileName = \"/Users/arana1/Documents/Work/QA-ClientApp/src/components/login-flow/parseSubscription.js\";\nimport React, { useState } from \"react\";\nimport { Button } from \"reactstrap\";\nimport axios from 'axios';\nexport default function ParseSubscription(props) {\n  var _jObj$body;\n\n  const {\n    Subscription\n  } = props;\n  const [selectedValue, setSelectedValue] = useState(Object.keys(Subscription)[0]);\n\n  const onChange = e => {\n    setSelectedValue(e.target.value);\n  };\n\n  const obj = localStorage.getItem('@@auth0spajs@@::fz2YwYovbQwPjQbvxszl2IQ0p3Q14k7Q::https://api.mcafee.com::openid profile email offline_access');\n  const jObj = JSON.parse(obj);\n  const ref_token = jObj === null || jObj === void 0 ? void 0 : (_jObj$body = jObj.body) === null || _jObj$body === void 0 ? void 0 : _jObj$body.refresh_token;\n\n  const getToken = async e => {\n    e.preventDefault();\n    const optionsLogin = {\n      \"content-type\": \"application/x-www-form-urlencoded\"\n    };\n    const jsonBody = {\n      client_id: \"fz2YwYovbQwPjQbvxszl2IQ0p3Q14k7Q\",\n      //client_secret: \"niZTToFk42DoIOUvShCWYH4S-gb2nND0JG9oHxAZj-en2b3hqCzIZgmvYKRYXoji\",\n      grant_type: \"refresh_token\",\n      refresh_token: ref_token,\n      subrefid: Subscription[selectedValue]\n    };\n    const data = new URLSearchParams(jsonBody).toString();\n\n    try {\n      const token = await axios.post(\"/oauth/token\", data, {\n        headers: optionsLogin\n      });\n      console.log(token.data.access_token);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  console.log(\"-----> value\", Subscription[selectedValue]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: selectedValue,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, Subscription ? Object.keys(Subscription).map(function (key, index) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: key,\n      key: `${index}111`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, key);\n  }) : null), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"mt-5\",\n    onClick: e => getToken(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Refresh token call\"));\n}","map":{"version":3,"sources":["/Users/arana1/Documents/Work/QA-ClientApp/src/components/login-flow/parseSubscription.js"],"names":["React","useState","Button","axios","ParseSubscription","props","Subscription","selectedValue","setSelectedValue","Object","keys","onChange","e","target","value","obj","localStorage","getItem","jObj","JSON","parse","ref_token","body","refresh_token","getToken","preventDefault","optionsLogin","jsonBody","client_id","grant_type","subrefid","data","URLSearchParams","toString","token","post","headers","console","log","access_token","err","display","flexDirection","map","key","index"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,iBAAT,CAA2BC,KAA3B,EAAkC;AAAA;;AAC/C,QAAM;AAAEC,IAAAA;AAAF,MAAmBD,KAAzB;AAEA,QAAM,CAACE,aAAD,EAAgBC,gBAAhB,IAAoCP,QAAQ,CAChDQ,MAAM,CAACC,IAAP,CAAYJ,YAAZ,EAA0B,CAA1B,CADgD,CAAlD;;AAGA,QAAMK,QAAQ,GAAIC,CAAD,IAAO;AACtBJ,IAAAA,gBAAgB,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB;AACD,GAFD;;AAGA,QAAMC,GAAG,GAAGC,YAAY,CAACC,OAAb,CAAqB,+GAArB,CAAZ;AACA,QAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,GAAX,CAAb;AACA,QAAMM,SAAS,GAAGH,IAAH,aAAGA,IAAH,qCAAGA,IAAI,CAAEI,IAAT,+CAAG,WAAYC,aAA9B;;AACA,QAAMC,QAAQ,GAAG,MAAOZ,CAAP,IAAa;AAC5BA,IAAAA,CAAC,CAACa,cAAF;AACA,UAAMC,YAAY,GAAG;AACnB,sBAAgB;AADG,KAArB;AAGA,UAAMC,QAAQ,GAAG;AACfC,MAAAA,SAAS,EAAE,kCADI;AAEf;AACAC,MAAAA,UAAU,EAAE,eAHG;AAIfN,MAAAA,aAAa,EAAEF,SAJA;AAKfS,MAAAA,QAAQ,EAAExB,YAAY,CAACC,aAAD;AALP,KAAjB;AAOA,UAAMwB,IAAI,GAAG,IAAIC,eAAJ,CAAoBL,QAApB,EAA8BM,QAA9B,EAAb;;AACA,QAAI;AACF,YAAMC,KAAK,GAAG,MAAM/B,KAAK,CAACgC,IAAN,CAAW,cAAX,EAA2BJ,IAA3B,EAClB;AACEK,QAAAA,OAAO,EAAEV;AADX,OADkB,CAApB;AAKAW,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACH,IAAN,CAAWQ,YAAvB;AACD,KAPD,CAOE,OAAOC,GAAP,EAAY;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD;AACF,GAvBD;;AAwBAH,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BhC,YAAY,CAACC,aAAD,CAAxC;AACA,sBACE;AAAK,IAAA,KAAK,EAAE;AAAEkC,MAAAA,OAAO,EAAE,MAAX;AAAmBC,MAAAA,aAAa,EAAE;AAAlC,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,KAAK,EAAEnC,aAAf;AAA8B,IAAA,QAAQ,EAAEI,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,YAAY,GACTG,MAAM,CAACC,IAAP,CAAYJ,YAAZ,EAA0BqC,GAA1B,CAA8B,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAClD,wBACE;AAAQ,MAAA,KAAK,EAAED,GAAf;AAAoB,MAAA,GAAG,EAAG,GAAEC,KAAM,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,GADH,CADF;AAKD,GAND,CADS,GAQT,IATN,CADF,eAYE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,SAAS,EAAC,MAAlC;AAAyC,IAAA,OAAO,EAAGhC,CAAD,IAAOY,QAAQ,CAACZ,CAAD,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAZF,CADF;AAyCD","sourcesContent":["import React, { useState } from \"react\";\nimport { Button } from \"reactstrap\";\nimport axios from 'axios';\n\nexport default function ParseSubscription(props) {\n  const { Subscription } = props;\n\n  const [selectedValue, setSelectedValue] = useState(\n    Object.keys(Subscription)[0]\n  );\n  const onChange = (e) => {\n    setSelectedValue(e.target.value);\n  };\n  const obj = localStorage.getItem('@@auth0spajs@@::fz2YwYovbQwPjQbvxszl2IQ0p3Q14k7Q::https://api.mcafee.com::openid profile email offline_access');\n  const jObj = JSON.parse(obj);\n  const ref_token = jObj?.body?.refresh_token;\n  const getToken = async (e) => {\n    e.preventDefault();\n    const optionsLogin = {\n      \"content-type\": \"application/x-www-form-urlencoded\",\n    };\n    const jsonBody = {\n      client_id: \"fz2YwYovbQwPjQbvxszl2IQ0p3Q14k7Q\",\n      //client_secret: \"niZTToFk42DoIOUvShCWYH4S-gb2nND0JG9oHxAZj-en2b3hqCzIZgmvYKRYXoji\",\n      grant_type: \"refresh_token\",\n      refresh_token: ref_token,\n      subrefid: Subscription[selectedValue]\n    };\n    const data = new URLSearchParams(jsonBody).toString();\n    try {\n      const token = await axios.post(\"/oauth/token\", data,\n        {\n          headers: optionsLogin,\n        }\n      );\n      console.log(token.data.access_token);\n    } catch (err) {\n      console.log(err)\n    }\n  };\n  console.log(\"-----> value\", Subscription[selectedValue]);\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n      <select value={selectedValue} onChange={onChange}>\n        {Subscription\n          ? Object.keys(Subscription).map(function (key, index) {\n              return (\n                <option value={key} key={`${index}111`}>\n                  {key}\n                </option>\n              );\n            })\n          : null}\n      </select>\n      <Button color=\"primary\" className=\"mt-5\" onClick={(e) => getToken(e)}>\n        Refresh token call\n      </Button>\n      {/* <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n        <p style={{ fontWeight: \"bold\" }}>AccessToken: </p>\n        <input\n          type=\"text\"\n          style={{ width: \"100%\" }}\n          value={props.response.AccessToken}\n        />\n      </div>\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n        <p style={{ marginTop: \"0.5rem\", wordBreak: \"break-all\" }}>\n          <span style={{ fontWeight: \"bold\" }}>IdToken:</span>{\" \"}\n        </p>\n        <input type=\"text\" value={props.response.IdToken} />\n      </div>{\" \"}\n      <div>\n        {\" \"}\n        <p style={{ fontWeight: \"bold\" }}> Custom parameter:</p>\n        <input type=\"text\" onChange={(e) => {}}></input>\n        <br />\n        <Button color=\"primary\" className=\"mt-5\" onClick={() => {}}>\n          Refresh token call\n        </Button>\n      </div> */}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}