{"ast":null,"code":"var _jsxFileName = \"/Users/arana1/Documents/Work/QA-ClientApp/src/components/login-flow/MainComponent.js\";\nimport React from \"react\";\nimport { Button } from \"reactstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction MainComponent(props) {\n  const {\n    setSubscription\n  } = props;\n  const history = useHistory();\n\n  const getParse = e => {\n    if (e.target.id === \"AccessTokenParse\") {\n      history.push(\"/parseLoginAccessToken\");\n    } else if (e.target.id === \"IdTokenParse\") {\n      history.push(\"/parseLoginIdToken\");\n    } else if (e.target.id === \"refresh\") {\n      history.push(\"/parseRefreshToken\");\n    }\n  };\n\n  const getSubs = async e => {\n    e.preventDefault(); //console.log(\"get-otp\", detailsState);\n\n    const optionsLogin = {\n      \"content-type\": \"application/json\",\n      cd: \"e8ed6c5f2bb44875abc220cb07c27898-f4922599d076\",\n      st: 3,\n      sv: \"V1\",\n      ak: \"839B7212425445D1A1113E42708908C5PPS\"\n    };\n    const jsonBody = {\n      app_id: \"f989723c-3e01-4328-8424-740383c26c11\",\n      type: \"ByGlobalRef\",\n      Global_Reference_Id: \"110025558474456664C6B906848DFAF\",\n      Include_All_Subs: true\n    }; //const data = new URLSearchParams(jsonBody).toString();\n\n    try {\n      var _token$data;\n\n      const token = await axios.post(\"v2/ProductProvision/GetSubscriptions\", jsonBody, {\n        headers: optionsLogin\n      });\n      const provisionList = token === null || token === void 0 ? void 0 : (_token$data = token.data) === null || _token$data === void 0 ? void 0 : _token$data.provision_list;\n      const FinalList = provisionList.reduce((result, item) => {\n        return { ...result,\n          [item.pkg_name]: item === null || item === void 0 ? void 0 : item.provision_id\n        };\n      }, {});\n      setSubscription(FinalList);\n      console.log(FinalList);\n      history.push(\"/parseSubscription\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"AccessToken: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    style: {\n      width: \"100%\"\n    },\n    onChange: () => {},\n    value: props.response.AccessToken,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      marginTop: \"0.5rem\",\n      wordBreak: \"break-all\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"IdToken:\"), \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: () => {},\n    value: props.response.IdToken,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"mt-5\",\n    id: \"AccessTokenParse\",\n    onClick: e => getParse(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Parse Tokens\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"mt-5\",\n    id: \"getSubscriptions\",\n    onClick: e => getSubs(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"Get Subscriptions\")));\n}\n\nexport default MainComponent;","map":{"version":3,"sources":["/Users/arana1/Documents/Work/QA-ClientApp/src/components/login-flow/MainComponent.js"],"names":["React","Button","useHistory","axios","MainComponent","props","setSubscription","history","getParse","e","target","id","push","getSubs","preventDefault","optionsLogin","cd","st","sv","ak","jsonBody","app_id","type","Global_Reference_Id","Include_All_Subs","token","post","headers","provisionList","data","provision_list","FinalList","reduce","result","item","pkg_name","provision_id","console","log","err","display","flexDirection","fontWeight","width","response","AccessToken","marginTop","wordBreak","IdToken"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Button } from \"reactstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction MainComponent(props) {\n  const { setSubscription } = props;\n  const history = useHistory();\n  const getParse = (e) => {\n    if (e.target.id === \"AccessTokenParse\") {\n      history.push(\"/parseLoginAccessToken\");\n    } else if (e.target.id === \"IdTokenParse\") {\n      history.push(\"/parseLoginIdToken\");\n    } else if (e.target.id === \"refresh\") {\n      history.push(\"/parseRefreshToken\");\n    }\n  };\n\n  const getSubs = async (e) => {\n    e.preventDefault();\n    //console.log(\"get-otp\", detailsState);\n    const optionsLogin = {\n      \"content-type\": \"application/json\",\n      cd: \"e8ed6c5f2bb44875abc220cb07c27898-f4922599d076\",\n      st: 3,\n      sv: \"V1\",\n      ak: \"839B7212425445D1A1113E42708908C5PPS\",\n    };\n    const jsonBody = {\n      app_id: \"f989723c-3e01-4328-8424-740383c26c11\",\n      type: \"ByGlobalRef\",\n      Global_Reference_Id: \"110025558474456664C6B906848DFAF\",\n      Include_All_Subs: true,\n    };\n    //const data = new URLSearchParams(jsonBody).toString();\n    try {\n      const token = await axios.post(\n        \"v2/ProductProvision/GetSubscriptions\",\n        jsonBody,\n        {\n          headers: optionsLogin,\n        }\n      );\n      const provisionList = token?.data?.provision_list;\n      const FinalList = provisionList.reduce((result, item) => {\n        return { ...result, [item.pkg_name]: item?.provision_id };\n      }, {});\n      setSubscription(FinalList);\n      console.log(FinalList);\n      history.push(\"/parseSubscription\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return (\n    <div>\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n        <p style={{ fontWeight: \"bold\" }}>AccessToken: </p>\n        <input\n          type=\"text\"\n          style={{ width: \"100%\" }}\n          onChange={() => {}}\n          value={props.response.AccessToken}\n        />\n      </div>\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n        <p style={{ marginTop: \"0.5rem\", wordBreak: \"break-all\" }}>\n          <span style={{ fontWeight: \"bold\" }}>IdToken:</span>{\" \"}\n        </p>\n        <input type=\"text\" onChange={() => {}} value={props.response.IdToken} />\n        <Button\n          color=\"primary\"\n          className=\"mt-5\"\n          id=\"AccessTokenParse\"\n          onClick={(e) => getParse(e)}\n        >\n          Parse Tokens\n        </Button>\n        <hr />\n        <Button\n          color=\"primary\"\n          className=\"mt-5\"\n          id=\"getSubscriptions\"\n          onClick={(e) => getSubs(e)}\n        >\n          Get Subscriptions\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default MainComponent;\n"]},"metadata":{},"sourceType":"module"}