{"ast":null,"code":"var _jsxFileName = \"/Users/arana1/Documents/Work/QA-ClientApp/src/views/TokenFlow.js\";\nimport React from \"react\";\nimport { Button } from \"reactstrap\";\nimport axios from 'axios';\n\nfunction TokenFlow(props) {\n  const {\n    tokenFlow,\n    setTokenFlowState\n  } = props;\n\n  const onChange = e => {\n    setTokenFlowState({ ...tokenFlow,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const ROPG = async e => {\n    e.preventDefault();\n    const optionsLogin = {\n      \"content-type\": \"application/x-www-form-urlencoded\"\n    };\n    const jsonBody = {\n      client_id: \"eK0mkkqu8Q03e6uTbP1uuPM8eszgrqf2\",\n      client_secret: \"niZTToFk42DoIOUvShCWYH4S-gb2nND0JG9oHxAZj-en2b3hqCzIZgmvYKRYXoji\",\n      grant_type: \"password\",\n      username: tokenFlow.username,\n      realm: \"AV-Password-Authentication\",\n      password: tokenFlow.password,\n      audience: \"https://api.mcafee.com\",\n      scope: \"openid profile email offline_access\"\n    };\n    const data = new URLSearchParams(jsonBody).toString();\n\n    try {\n      const token = await axios.post(\"oauth/token\", data, {\n        headers: optionsLogin\n      });\n      setTokenFlowState({ ...tokenFlow,\n        AccessToken: token.data.access_token,\n        IdToken: token.data.id_token\n      }); //setDetailsState({...detailsState, accessToken:token.data.access_token,idToken:token.data.id_token,refreshToken:token.data.refresh_token})\n\n      console.log(token);\n    } catch (err) {\n      console.log(err);\n    } //history.push(\"/token\");\n\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, \"UserName:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    onChange: e => onChange(e),\n    value: tokenFlow.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), \"Password:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    onChange: e => onChange(e),\n    value: tokenFlow.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: \"1rem\"\n    },\n    id: \"qsLoginBtn\",\n    color: \"primary\",\n    className: \"btn-margin\",\n    onClick: e => ROPG(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"Get Tokens\"), tokenFlow.AccessToken && /*#__PURE__*/React.createElement(\"label\", {\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \"AccessToken\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"AccessToken\",\n    onChange: e => onChange(e),\n    value: tokenFlow.AccessToken,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  })), tokenFlow.IdToken && /*#__PURE__*/React.createElement(\"label\", {\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"IdToken\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"IdToken\",\n    onChange: e => onChange(e),\n    value: tokenFlow.IdToken,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  })));\n}\n\nexport default TokenFlow;","map":{"version":3,"sources":["/Users/arana1/Documents/Work/QA-ClientApp/src/views/TokenFlow.js"],"names":["React","Button","axios","TokenFlow","props","tokenFlow","setTokenFlowState","onChange","e","target","name","value","ROPG","preventDefault","optionsLogin","jsonBody","client_id","client_secret","grant_type","username","realm","password","audience","scope","data","URLSearchParams","toString","token","post","headers","AccessToken","access_token","IdToken","id_token","console","log","err","display","flexDirection","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Button } from \"reactstrap\";\nimport axios from 'axios';\n\nfunction TokenFlow(props) {\n  const { tokenFlow, setTokenFlowState } = props;\n  const onChange = (e) => {\n    setTokenFlowState({\n      ...tokenFlow,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const ROPG = async (e) => {\n    e.preventDefault();\n    const optionsLogin = {\n      \"content-type\": \"application/x-www-form-urlencoded\",\n    };\n    const jsonBody = {\n      client_id: \"eK0mkkqu8Q03e6uTbP1uuPM8eszgrqf2\",\n      client_secret: \"niZTToFk42DoIOUvShCWYH4S-gb2nND0JG9oHxAZj-en2b3hqCzIZgmvYKRYXoji\",\n      grant_type: \"password\",\n      username: tokenFlow.username,\n      realm: \"AV-Password-Authentication\",\n      password: tokenFlow.password,\n      audience: \"https://api.mcafee.com\",\n      scope: \"openid profile email offline_access\"\n    };\n    const data = new URLSearchParams(jsonBody).toString();\n    try {\n      const token = await axios.post(\"oauth/token\", data,\n        {\n          headers: optionsLogin,\n        }\n      );\n      setTokenFlowState({...tokenFlow, AccessToken:token.data.access_token, IdToken:token.data.id_token});\n      //setDetailsState({...detailsState, accessToken:token.data.access_token,idToken:token.data.id_token,refreshToken:token.data.refresh_token})\n      console.log(token);\n    } catch (err) {\n      console.log(err)\n    }\n    //history.push(\"/token\");\n  };\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n      UserName:\n      <input\n        type=\"text\"\n        name=\"username\"\n        onChange={(e) => onChange(e)}\n        value={tokenFlow.username}\n      ></input>\n      Password:\n      <input\n        type=\"password\"\n        name=\"password\"\n        onChange={(e) => onChange(e)}\n        value={tokenFlow.password}\n      ></input>\n      <Button\n        style={{ marginTop: \"1rem\" }}\n        id=\"qsLoginBtn\"\n        color=\"primary\"\n        className=\"btn-margin\"\n        onClick={(e) => ROPG(e)}\n      >\n        Get Tokens\n      </Button>\n      {tokenFlow.AccessToken && (\n        <label style={{ marginTop: \"1rem\" }}>\n          AccessToken\n          <input\n            type=\"text\"\n            name=\"AccessToken\"\n            onChange={(e) => onChange(e)}\n            value={tokenFlow.AccessToken}\n          ></input>\n        </label>\n      )}\n      {tokenFlow.IdToken && (\n        <label style={{ marginTop: \"1rem\" }}>\n          IdToken\n          <input\n            type=\"text\"\n            name=\"IdToken\"\n            onChange={(e) => onChange(e)}\n            value={tokenFlow.IdToken}\n          ></input>\n        </label>\n      )}\n    </div>\n  );\n}\n\nexport default TokenFlow;\n"]},"metadata":{},"sourceType":"module"}